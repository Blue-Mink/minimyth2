diff -Naur rtl8821CU-93b04bfcd293fdd7d98d5a7c964ae9416a40159c-old/core/rtw_security.c rtl8821CU-93b04bfcd293fdd7d98d5a7c964ae9416a40159c-new/core/rtw_security.c
--- rtl8821CU-93b04bfcd293fdd7d98d5a7c964ae9416a40159c-old/core/rtw_security.c	2020-07-27 14:53:09.000000000 +0200
+++ rtl8821CU-93b04bfcd293fdd7d98d5a7c964ae9416a40159c-new/core/rtw_security.c	2020-07-28 14:44:27.266666666 +0200
@@ -2133,7 +2133,7 @@
 #ifndef PLATFORM_FREEBSD
 #if defined(CONFIG_TDLS)
 /* compress 512-bits */
-static int sha256_compress(struct sha256_state *md, unsigned char *buf)
+static int sha256_compress(struct rtw_sha256_state *md, unsigned char *buf)
 {
 	u32 S[8], W[64], t0, t1;
 	u32 t;
@@ -2181,7 +2181,7 @@
 }
 
 /* Initialize the hash state */
-static void sha256_init(struct sha256_state *md)
+static void sha256_init(struct rtw_sha256_state *md)
 {
 	md->curlen = 0;
 	md->length = 0;
@@ -2202,7 +2202,7 @@
    @param inlen  The length of the data (octets)
    @return CRYPT_OK if successful
 */
-static int sha256_process(struct sha256_state *md, unsigned char *in,
+static int sha256_process(struct rtw_sha256_state *md, unsigned char *in,
 			  unsigned long inlen)
 {
 	unsigned long n;
@@ -2243,7 +2243,7 @@
    @param out [out] The destination of the hash (32 bytes)
    @return CRYPT_OK if successful
 */
-static int sha256_done(struct sha256_state *md, unsigned char *out)
+static int sha256_done(struct rtw_sha256_state *md, unsigned char *out)
 {
 	int i;
 
@@ -2293,7 +2293,7 @@
 static int sha256_vector(size_t num_elem, u8 *addr[], size_t *len,
 			 u8 *mac)
 {
-	struct sha256_state ctx;
+	struct rtw_sha256_state ctx;
 	size_t i;
 
 	sha256_init(&ctx);
diff -Naur rtl8821CU-93b04bfcd293fdd7d98d5a7c964ae9416a40159c-old/include/rtw_security.h rtl8821CU-93b04bfcd293fdd7d98d5a7c964ae9416a40159c-new/include/rtw_security.h
--- rtl8821CU-93b04bfcd293fdd7d98d5a7c964ae9416a40159c-old/include/rtw_security.h	2020-07-27 14:53:09.000000000 +0200
+++ rtl8821CU-93b04bfcd293fdd7d98d5a7c964ae9416a40159c-new/include/rtw_security.h	2020-07-28 14:44:27.266666666 +0200
@@ -249,7 +249,7 @@
 #define SEC_IS_BIP_KEY_INSTALLED(sec) _FALSE
 #endif
 
-struct sha256_state {
+struct rtw_sha256_state {
 	u64 length;
 	u32 state[8], curlen;
 	u8 buf[64];

diff -Naur rtl8821CU-93b04bfcd293fdd7d98d5a7c964ae9416a40159c-old/os_dep/linux/ioctl_cfg80211.c rtl8821CU-93b04bfcd293fdd7d98d5a7c964ae9416a40159c-new/os_dep/linux/ioctl_cfg80211.c
--- rtl8821CU-93b04bfcd293fdd7d98d5a7c964ae9416a40159c-old/os_dep/linux/ioctl_cfg80211.c	2020-07-27 14:53:09.000000000 +0200
+++ rtl8821CU-93b04bfcd293fdd7d98d5a7c964ae9416a40159c-new/os_dep/linux/ioctl_cfg80211.c	2020-07-28 14:46:37.843333327 +0200
@@ -9457,7 +9457,7 @@
 
 #if (LINUX_VERSION_CODE >= KERNEL_VERSION(2, 6, 37)) || defined(COMPAT_KERNEL_RELEASE)
 	.mgmt_tx = cfg80211_rtw_mgmt_tx,
-	.mgmt_frame_register = cfg80211_rtw_mgmt_frame_register,
+//	.mgmt_frame_register = cfg80211_rtw_mgmt_frame_register,
 #elif (LINUX_VERSION_CODE >= KERNEL_VERSION(2, 6, 34) && LINUX_VERSION_CODE <= KERNEL_VERSION(2, 6, 35))
 	.action = cfg80211_rtw_mgmt_tx,
 #endif

diff -Naur rtl8821CU-93b04bfcd293fdd7d98d5a7c964ae9416a40159c-old/Makefile rtl8821CU-93b04bfcd293fdd7d98d5a7c964ae9416a4
--- rtl8821CU-93b04bfcd293fdd7d98d5a7c964ae9416a40159c-old/Makefile	2020-07-27 14:53:09.000000000 +0200
+++ rtl8821CU-93b04bfcd293fdd7d98d5a7c964ae9416a40159c-new/Makefile	2020-07-28 14:57:09.806666646 +0200
@@ -99,7 +99,7 @@
 ######### Notify SDIO Host Keep Power During Syspend ##########
 CONFIG_RTW_SDIO_PM_KEEP_POWER = y
 ###################### MP HW TX MODE FOR VHT #######################
-CONFIG_MP_VHT_HW_TX_MODE = y
+CONFIG_MP_VHT_HW_TX_MODE = n
 ###################### Platform Related #######################
 CONFIG_PLATFORM_I386_PC = y
 CONFIG_PLATFORM_ARM_RPI = n
 
@@ -1176,7 +1176,7 @@
 EXTRA_CFLAGS += -mhard-float
 else
 ## For ARM ToolChain use Hardware FLOATING
-EXTRA_CFLAGS += -mfloat-abi=hard
+EXTRA_CFLAGS +=
 endif
 endif
 
