From c15b05e60cd609f2072d68a367240037301f6259 Mon Sep 17 00:00:00 2001
From: Lawrence Rust <lvr@softsystem.co.uk>
Date: Fri, 16 Aug 2013 14:08:02 +0100
Subject: [PATCH 141/333] myth_system: Don't redirect stdout/err to dev/null

This patch reinstates stdout/stderr output for programs run with
myth_system.

At present it's very difficult to see what is happening and fix any
errors in user provided scripts and/or programs.

Signed-off-by: Lawrence Rust <lvr@softsystem.co.uk>
---
 mythtv/libs/libmythbase/mythsystemunix.cpp |    4 ++++
 1 file changed, 4 insertions(+)

diff --git a/mythtv/libs/libmythbase/mythsystemunix.cpp b/mythtv/libs/libmythbase/mythsystemunix.cpp
index dbd6061..043a86b 100644
--- a/mythtv/libs/libmythbase/mythsystemunix.cpp
+++ b/mythtv/libs/libmythbase/mythsystemunix.cpp
@@ -1017,6 +1017,7 @@ void MythSystemLegacyUnix::Fork(time_t timeout)
                 _exit(GENERIC_EXIT_PIPE_FAILURE);
             }
         }
+#if 0
         else
         {
             /* We aren't sucking this down, redirect stdout to /dev/null */
@@ -1048,6 +1049,7 @@ void MythSystemLegacyUnix::Fork(time_t timeout)
                      << strerror(errno) << endl;
             }
         }
+#endif
 
         /* handle standard err */
         if( p_stderr[1] >= 0 )
@@ -1061,6 +1063,7 @@ void MythSystemLegacyUnix::Fork(time_t timeout)
                 _exit(GENERIC_EXIT_PIPE_FAILURE);
             }
         }
+#if 0
         else
         {
             /* We aren't sucking this down, redirect stderr to /dev/null */
@@ -1092,6 +1095,7 @@ void MythSystemLegacyUnix::Fork(time_t timeout)
                      << strerror(errno) << endl;
             }
         }
+#endif
 
         /* Close all open file descriptors except stdin/stdout/stderr */
         for( int i = sysconf(_SC_OPEN_MAX) - 1; i > 2; i-- )
-- 
1.7.9.5

