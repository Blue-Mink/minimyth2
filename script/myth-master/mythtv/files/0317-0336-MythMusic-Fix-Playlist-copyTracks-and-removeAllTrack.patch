From e7c80f43a3ec0fc2024f64e17d13461840429029 Mon Sep 17 00:00:00 2001
From: Lawrence Rust <lvr@softsystem.co.uk>
Date: Fri, 17 Jun 2016 18:40:37 +0100
Subject: [PATCH 336/348] MythMusic: Fix Playlist::copyTracks and
 removeAllTracks

Correct these 2 functions to call gPlayer->activePlaylistChanged

Signed-off-by: Lawrence Rust <lvr@softsystem.co.uk>
---
 mythplugins/mythmusic/mythmusic/playlist.cpp |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

diff --git a/mythplugins/mythmusic/mythmusic/playlist.cpp b/mythplugins/mythmusic/mythmusic/playlist.cpp
index 79a509a..94146a4 100644
--- a/mythplugins/mythmusic/mythmusic/playlist.cpp
+++ b/mythplugins/mythmusic/mythmusic/playlist.cpp
@@ -46,7 +46,7 @@ bool Playlist::checkTrack(MusicMetadata::IdType trackID) const
 
 void Playlist::copyTracks(Playlist *to_ptr, bool update_display)
 {
-    disableSaves();
+    to_ptr->disableSaves();
 
     for (int x = 0; x < m_songs.size(); x++)
     {
@@ -58,9 +58,9 @@ void Playlist::copyTracks(Playlist *to_ptr, bool update_display)
         }
     }
 
-    enableSaves();
+    to_ptr->enableSaves();
 
-    changed();
+    to_ptr->changed();
 }
 
 /// Given a tracks ID, add that track to this playlist
@@ -94,6 +94,8 @@ void Playlist::removeAllTracks(void)
     m_shuffledSongs.clear();
 
     changed();
+
+    gPlayer->activePlaylistChanged(-1, true);
 }
 
 void Playlist::removeAllCDTracks(void)
-- 
1.7.9.5

