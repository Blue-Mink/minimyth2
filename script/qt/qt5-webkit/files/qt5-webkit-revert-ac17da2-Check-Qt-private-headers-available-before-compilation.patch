diff -Naur qtwebkit-20180120-72cfbd7-old/cmake/OptionsQt.cmake qtwebkit-20180120-72cfbd7-new/cmake/OptionsQt.cmake
--- qtwebkit-20180120-72cfbd7-old/cmake/OptionsQt.cmake	2018-06-29 10:43:15.000000000 +0200
+++ qtwebkit-20180120-72cfbd7-new/cmake/OptionsQt.cmake	2018-10-04 19:04:31.943333333 +0200
@@ -1,4 +1,3 @@
-include(CheckCXXSourceCompiles)
 include(FeatureSummary)
 include(ECMEnableSanitizers)
 include(ECMPackageConfigHelpers)
@@ -54,30 +53,6 @@
     endif ()
 endmacro()
 
-macro(CHECK_QT5_PRIVATE_INCLUDE_DIRS _qt_component _header)
-    set(INCLUDE_TEST_SOURCE
-    "
-        #include <${_header}>
-        int main() { return 0; }
-    "
-    )
-    set(CMAKE_REQUIRED_INCLUDES ${Qt5${_qt_component}_PRIVATE_INCLUDE_DIRS})
-    set(CMAKE_REQUIRED_LIBRARIES Qt5::${_qt_component})
-
-    # Avoid check_include_file_cxx() because it performs linking but doesn't support CMAKE_REQUIRED_LIBRARIES (doh!)
-    check_cxx_source_compiles("${INCLUDE_TEST_SOURCE}" Qt5${_qt_component}_PRIVATE_HEADER_FOUND)
-
-    unset(INCLUDE_TEST_SOURCE)
-    unset(CMAKE_REQUIRED_INCLUDES)
-    unset(CMAKE_REQUIRED_LIBRARIES)
-
-    if (NOT Qt5${_qt_component}_PRIVATE_HEADER_FOUND)
-        message(FATAL_ERROR "Header ${_header} is not found. Please make sure that:
-    1. Private headers of Qt5${_qt_component} are installed
-    2. Qt5${_qt_component}_PRIVATE_INCLUDE_DIRS is correctly defined in Qt5${_qt_component}Config.cmake")
-    endif ()
-endmacro()
-
 macro(QT_ADD_EXTRA_WEBKIT_TARGET_EXPORT target)
     if (QT_STATIC_BUILD OR SHARED_CORE)
         install(TARGETS ${target} EXPORT WebKitTargets
@@ -608,12 +583,6 @@
 endif ()
 
 find_package(Qt5 ${REQUIRED_QT_VERSION} REQUIRED COMPONENTS ${QT_REQUIRED_COMPONENTS})
-
-CHECK_QT5_PRIVATE_INCLUDE_DIRS(Gui private/qhexstring_p.h)
-if (ENABLE_WEBKIT2)
-    CHECK_QT5_PRIVATE_INCLUDE_DIRS(Quick private/qsgrendernode_p.h)
-endif ()
-
 if (QT_STATIC_BUILD)
     foreach (qt_module ${QT_REQUIRED_COMPONENTS})
         CONVERT_PRL_LIBS_TO_CMAKE(${qt_module})
