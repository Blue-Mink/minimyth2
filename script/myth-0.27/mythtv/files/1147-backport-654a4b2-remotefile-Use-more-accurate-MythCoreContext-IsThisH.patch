From 654a4b203bebeeddfca088d0ca3f2a92c210ce89 Mon Sep 17 00:00:00 2001
From: Jean-Yves Avenard <jyavenard@mythtv.org>
Date: Tue, 15 Jul 2014 18:03:22 +1000
Subject: [PATCH] remotefile: Use more accurate
 MythCoreContext::IsThisHost(host) API

---
 mythtv/libs/libmythbase/remotefile.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/mythtv/libs/libmythbase/remotefile.cpp b/mythtv/libs/libmythbase/remotefile.cpp
index b0d96c5..24496c0 100644
--- a/mythtv/libs/libmythbase/remotefile.cpp
+++ b/mythtv/libs/libmythbase/remotefile.cpp
@@ -432,7 +432,7 @@ bool RemoteFile::Exists(const QString &url, struct stat *fileinfo)
     QString host     = qurl.host();
 
     if (isLocal(url) || (gCoreContext->IsMasterBackend() &&
-        host == gCoreContext->GetMasterHostName()))
+        gCoreContext->IsThisHost(host)))
     {
        LOG(VB_FILE, LOG_INFO,
            QString("RemoteFile::Exists(): looking for local file: %1").arg(url));
-- 
1.7.10.2

