From 15a6f6dbcf96efcc37691f3f6b6bb1a07a612c15 Mon Sep 17 00:00:00 2001
From: Stuart Morgan <smorgan@mythtv.org>
Date: Mon, 14 Jul 2014 14:56:15 +0100
Subject: [PATCH 3/8] UPnP: Correctly sort tracks in the album container by
 track number.

---
 mythtv/programs/mythbackend/upnpcdsmusic.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/mythtv/programs/mythbackend/upnpcdsmusic.cpp b/mythtv/programs/mythbackend/upnpcdsmusic.cpp
index d408dda..85ceb44 100644
--- a/mythtv/programs/mythbackend/upnpcdsmusic.cpp
+++ b/mythtv/programs/mythbackend/upnpcdsmusic.cpp
@@ -84,7 +84,7 @@ UPnpCDSRootInfo UPnpCDSMusic::g_RootNodes[] =
             "GROUP BY a.album_name "
             "ORDER BY a.album_name",
         "WHERE song.album_id=:KEY",
-        "album.album_name",
+        "song.track",
         "object.container",
         "object.container.album.musicAlbum" },
 
@@ -401,7 +401,7 @@ CDSObject* UPnpCDSMusic::CreateContainer(const QString& sId,
     CDSObject *pContainer = NULL;
     if (sClass == "object.container.person.musicArtist")
     {
-        pContainer = CDSObject::CreateMusicGenre( sId, sTitle, m_sExtensionId );
+        pContainer = CDSObject::CreateMusicArtist( sId, sTitle, m_sExtensionId );
     }
     else if (sClass == "object.container.album.musicAlbum")
     {
-- 
1.7.10.2

