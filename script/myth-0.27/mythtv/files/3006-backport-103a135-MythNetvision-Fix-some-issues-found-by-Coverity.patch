From 103a135d6121b198fa278bf397b0d08b7a81a3ac Mon Sep 17 00:00:00 2001
From: Jonatan Lindblad <jlindblad@mythtv.org>
Date: Sun, 8 Jun 2014 01:10:42 +0200
Subject: [PATCH 12/23] MythNetvision: Fix some issues found by Coverity

---
 .../mythnetvision/mythnetvision/netsearch.cpp      |   55 +++++++++-----------
 .../mythnetvision/mythnetvision/rsseditor.cpp      |   15 +++---
 2 files changed, 30 insertions(+), 40 deletions(-)

diff --git a/mythplugins/mythnetvision/mythnetvision/netsearch.cpp b/mythplugins/mythnetvision/mythnetvision/netsearch.cpp
index f2d51a4..295c8b5 100644
--- a/mythplugins/mythnetvision/mythnetvision/netsearch.cpp
+++ b/mythplugins/mythnetvision/mythnetvision/netsearch.cpp
@@ -224,14 +224,11 @@ void NetSearch::fillGrabberButtonList()
     {
         MythUIButtonListItem *item =
                     new MythUIButtonListItem(m_siteList, (*i)->GetTitle());
-        if (item)
-        {
-            item->SetText((*i)->GetTitle(), "title");
-            item->SetData((*i)->GetCommandline());
-            QString thumb = QString("%1mythnetvision/icons/%2").arg(GetShareDir())
-                                .arg((*i)->GetImage());
-            item->SetImage(thumb);
-        }
+        item->SetText((*i)->GetTitle(), "title");
+        item->SetData((*i)->GetCommandline());
+        QString thumb = QString("%1mythnetvision/icons/%2").arg(GetShareDir())
+                            .arg((*i)->GetImage());
+        item->SetImage(thumb);
     }
 }
 
@@ -388,33 +385,29 @@ void NetSearch::populateResultList(ResultItem::resultList list)
     {
         QString title = (*i)->GetTitle();
         MythUIButtonListItem *item =
-                    new MythUIButtonListItem(
-                    m_searchResultList, title);
-        if (item)
-        {
-            InfoMap metadataMap;
-            (*i)->toMap(metadataMap);
-            item->SetTextFromMap(metadataMap);
+            new MythUIButtonListItem(m_searchResultList, title);
+        InfoMap metadataMap;
+        (*i)->toMap(metadataMap);
+        item->SetTextFromMap(metadataMap);
 
-            item->SetData(qVariantFromValue(*i));
+        item->SetData(qVariantFromValue(*i));
 
-            if (!(*i)->GetThumbnail().isEmpty())
-            {
-                QString dlfile = (*i)->GetThumbnail();
+        if (!(*i)->GetThumbnail().isEmpty())
+        {
+            QString dlfile = (*i)->GetThumbnail();
 
-                if (dlfile.contains("%SHAREDIR%"))
-                {
-                    dlfile.replace("%SHAREDIR%", GetShareDir());
-                    item->SetImage(dlfile);
-                }
-                else
-                {
-                    uint pos = m_searchResultList->GetItemPos(item);
+            if (dlfile.contains("%SHAREDIR%"))
+            {
+                dlfile.replace("%SHAREDIR%", GetShareDir());
+                item->SetImage(dlfile);
+            }
+            else
+            {
+                uint pos = m_searchResultList->GetItemPos(item);
 
-                    m_imageDownload->addThumb((*i)->GetTitle(),
-                                              (*i)->GetThumbnail(),
-                                              qVariantFromValue<uint>(pos));
-                }
+                m_imageDownload->addThumb((*i)->GetTitle(),
+                                          (*i)->GetThumbnail(),
+                                          qVariantFromValue<uint>(pos));
             }
         }
     }
diff --git a/mythplugins/mythnetvision/mythnetvision/rsseditor.cpp b/mythplugins/mythnetvision/mythnetvision/rsseditor.cpp
index d8df126..5891bbb 100644
--- a/mythplugins/mythnetvision/mythnetvision/rsseditor.cpp
+++ b/mythplugins/mythnetvision/mythnetvision/rsseditor.cpp
@@ -486,15 +486,12 @@ void RSSEditor::fillRSSButtonList()
     {
         MythUIButtonListItem *item =
                     new MythUIButtonListItem(m_sites, (*i)->GetTitle());
-        if (item)
-        {
-            item->SetText((*i)->GetTitle(), "title");
-            item->SetText((*i)->GetDescription(), "description");
-            item->SetText((*i)->GetURL(), "url");
-            item->SetText((*i)->GetAuthor(), "author");
-            item->SetData(qVariantFromValue(*i));
-            item->SetImage((*i)->GetImage());
-        }
+        item->SetText((*i)->GetTitle(), "title");
+        item->SetText((*i)->GetDescription(), "description");
+        item->SetText((*i)->GetURL(), "url");
+        item->SetText((*i)->GetAuthor(), "author");
+        item->SetData(qVariantFromValue(*i));
+        item->SetImage((*i)->GetImage());
     }
 }
 
-- 
1.7.10.2

