From b35185901b5ed41e8b3b208ebf718529ea385dc9 Mon Sep 17 00:00:00 2001
From: Paul Harrison <pharrison@mythtv.org>
Date: Tue, 11 Feb 2014 23:16:58 +0000
Subject: [PATCH 1/2] AlbumArtImages: add option to not load images from the
 database

---
 mythtv/libs/libmythmetadata/musicmetadata.cpp |    5 +++--
 mythtv/libs/libmythmetadata/musicmetadata.h   |    2 +-
 2 files changed, 4 insertions(+), 3 deletions(-)

diff --git a/mythtv/libs/libmythmetadata/musicmetadata.cpp b/mythtv/libs/libmythmetadata/musicmetadata.cpp
index 671a8a8..cc1094a 100644
--- a/mythtv/libs/libmythmetadata/musicmetadata.cpp
+++ b/mythtv/libs/libmythmetadata/musicmetadata.cpp
@@ -1647,10 +1647,11 @@ void AllStream::createPlaylist(void)
 
 /**************************************************************************/
 
-AlbumArtImages::AlbumArtImages(MusicMetadata *metadata)
+AlbumArtImages::AlbumArtImages(MusicMetadata *metadata, bool loadFromDB)
     : m_parent(metadata)
 {
-    findImages();
+    if (loadFromDB)
+        findImages();
 }
 
 AlbumArtImages::~AlbumArtImages()
diff --git a/mythtv/libs/libmythmetadata/musicmetadata.h b/mythtv/libs/libmythmetadata/musicmetadata.h
index 0f6ad07..577fb24 100644
--- a/mythtv/libs/libmythmetadata/musicmetadata.h
+++ b/mythtv/libs/libmythmetadata/musicmetadata.h
@@ -449,7 +449,7 @@ class META_PUBLIC AlbumArtImages
     Q_DECLARE_TR_FUNCTIONS(AlbumArtImages)
 
   public:
-    AlbumArtImages(MusicMetadata *metadata);
+    AlbumArtImages(MusicMetadata *metadata, bool loadFromDB = true);
     ~AlbumArtImages();
 
     void           addImage(const AlbumArtImage &newImage);
-- 
1.7.10.2

