From d7ad84a1d8912d8f9fa146d3e75fab2b1a8620d3 Mon Sep 17 00:00:00 2001
From: Paul Harrison <pharrison@mythtv.org>
Date: Mon, 24 Mar 2014 22:32:34 +0000
Subject: [PATCH 2/3] RemoteFile::FindFile: make sure we only search the
 storage group we want

---
 mythtv/libs/libmythbase/remotefile.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/mythtv/libs/libmythbase/remotefile.cpp b/mythtv/libs/libmythbase/remotefile.cpp
index eeea933..adfebfe 100644
--- a/mythtv/libs/libmythbase/remotefile.cpp
+++ b/mythtv/libs/libmythbase/remotefile.cpp
@@ -1077,7 +1077,7 @@ QString RemoteFile::FindFile(const QString& filename, const QString& host, const
         hostName = gCoreContext->GetMasterHostName();
 
     // first check the given host
-    strList << "QUERY_SG_FILEQUERY" << hostName << storageGroup << filename;
+    strList << "QUERY_SG_FILEQUERY" << hostName << storageGroup << filename << 0;
     if (gCoreContext->SendReceiveStringList(strList))
     {
         if (strList.size() > 0 && strList[0] != "EMPTY LIST" && !strList[0].startsWith("SLAVE UNREACHABLE"))
@@ -1108,7 +1108,7 @@ QString RemoteFile::FindFile(const QString& filename, const QString& host, const
         hostName = query.value(0).toString();
 
         strList.clear();
-        strList << "QUERY_SG_FILEQUERY" << hostName << storageGroup << filename;
+        strList << "QUERY_SG_FILEQUERY" << hostName << storageGroup << filename << 0;
 
         if (gCoreContext->SendReceiveStringList(strList))
         {
-- 
1.7.10.2

