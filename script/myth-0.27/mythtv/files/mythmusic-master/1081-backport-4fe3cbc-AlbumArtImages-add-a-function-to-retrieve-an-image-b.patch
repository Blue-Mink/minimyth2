From 4fe3cbc7c6e0acf26fc1afb982cedfc2da7b7dcf Mon Sep 17 00:00:00 2001
From: Paul Harrison <pharrison@mythtv.org>
Date: Sun, 2 Mar 2014 16:41:22 +0000
Subject: [PATCH 2/2] AlbumArtImages: add a function to retrieve an image by
 ID

---
 mythtv/libs/libmythmetadata/musicmetadata.cpp |   12 ++++++++++++
 mythtv/libs/libmythmetadata/musicmetadata.h   |    1 +
 2 files changed, 13 insertions(+)

diff --git a/mythtv/libs/libmythmetadata/musicmetadata.cpp b/mythtv/libs/libmythmetadata/musicmetadata.cpp
index 7cd739c..777620a 100644
--- a/mythtv/libs/libmythmetadata/musicmetadata.cpp
+++ b/mythtv/libs/libmythmetadata/musicmetadata.cpp
@@ -1836,6 +1836,18 @@ AlbumArtImage *AlbumArtImages::getImage(ImageType type)
     return NULL;
 }
 
+AlbumArtImage *AlbumArtImages::getImageByID(int imageID)
+{
+    AlbumArtList::iterator it = m_imageList.begin();
+    for (; it != m_imageList.end(); ++it)
+    {
+        if ((*it)->id == imageID)
+            return *it;
+    }
+
+    return NULL;
+}
+
 QStringList AlbumArtImages::getImageFilenames(void) const
 {
     QStringList paths;
diff --git a/mythtv/libs/libmythmetadata/musicmetadata.h b/mythtv/libs/libmythmetadata/musicmetadata.h
index 8173c3c..6de3cfd 100644
--- a/mythtv/libs/libmythmetadata/musicmetadata.h
+++ b/mythtv/libs/libmythmetadata/musicmetadata.h
@@ -478,6 +478,7 @@ class META_PUBLIC AlbumArtImages
     void           addImage(const AlbumArtImage &newImage);
     uint           getImageCount() { return m_imageList.size(); }
     AlbumArtImage *getImage(ImageType type);
+    AlbumArtImage *getImageByID(int imageID);
     QStringList    getImageFilenames(void) const;
     AlbumArtList  *getImageList(void) { return &m_imageList; }
     AlbumArtImage *getImageAt(uint index);
-- 
1.7.10.2

