From 7fca78008cf1249935d24bead0896069d93da0da Mon Sep 17 00:00:00 2001
From: Stuart Morgan <smorgan@mythtv.org>
Date: Sun, 7 Sep 2014 13:46:21 +0100
Subject: [PATCH 5/7] MythMusic: Fix another NULL insert into NOT NULL column
 in SmartPlaylist editor.

---
 mythplugins/mythmusic/mythmusic/smartplaylist.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/mythplugins/mythmusic/mythmusic/smartplaylist.cpp b/mythplugins/mythmusic/mythmusic/smartplaylist.cpp
index 0fc546d..af441f3 100644
--- a/mythplugins/mythmusic/mythmusic/smartplaylist.cpp
+++ b/mythplugins/mythmusic/mythmusic/smartplaylist.cpp
@@ -331,7 +331,7 @@ bool SmartPLCriteriaRow::saveToDatabase(int smartPlaylistID)
     query.bindValue(":SMARTPLAYLISTID", smartPlaylistID);
     query.bindValue(":FIELD", Field);
     query.bindValue(":OPERATOR", Operator);
-    query.bindValue(":VALUE1", Value1);
+    query.bindValue(":VALUE1", Value1.isNull() ? "" : Value1);
     query.bindValue(":VALUE2", Value2.isNull() ? "" : Value2);
 
     if (!query.exec())
-- 
1.7.10.2

