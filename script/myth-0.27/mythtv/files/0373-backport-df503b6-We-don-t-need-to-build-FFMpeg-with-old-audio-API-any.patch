From df503b619b05c9db92eae593f43bdff68a1c7855 Mon Sep 17 00:00:00 2001
From: Jean-Yves Avenard <jyavenard@mythtv.org>
Date: Sat, 31 May 2014 00:09:19 +1000
Subject: [PATCH 11/28] =?UTF-8?q?We=20don=E2=80=99t=20need=20to=20build=20FF?=
 =?UTF-8?q?Mpeg=20with=20old=20audio=20API=20any=20longer?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

---
 mythtv/configure                  |    4 ----
 mythtv/external/FFmpeg/common.mak |    2 +-
 2 files changed, 1 insertion(+), 5 deletions(-)

diff --git a/mythtv/configure b/mythtv/configure
index 4a014b0..85985ba 100755
--- a/mythtv/configure
+++ b/mythtv/configure
@@ -7078,10 +7078,6 @@ if test x"$CONFIG_INCLUDEPATH" != x"" ; then
   echo "CONFIG_INCLUDEPATH=$CONFIG_INCLUDEPATH" >> $TMPMAK
 fi
 
-# TODO, Update to use new API audio decode
-echo "#define FF_API_OLD_DECODE_AUDIO 1" >> $TMPH
-echo "#define AVCODEC_MAX_AUDIO_FRAME_SIZE 192000" >> $TMPH
-
 echo "#endif /* MYTHTV_CONFIG_H */" >> $TMPH
 
 cat <<EOF >> $TMPMAK
diff --git a/mythtv/external/FFmpeg/common.mak b/mythtv/external/FFmpeg/common.mak
index 985f855..8b5422e 100644
--- a/mythtv/external/FFmpeg/common.mak
+++ b/mythtv/external/FFmpeg/common.mak
@@ -26,7 +26,7 @@ ALLFFLIBS = avcodec avdevice avfilter avformat avresample avutil postproc swscal
 # NASM requires -I path terminated with /
 IFLAGS     := -I. -I$(SRC_PATH)/
 CPPFLAGS   := $(IFLAGS) $(CPPFLAGS)
-CFLAGS     += $(ECFLAGS) -DFF_API_OLD_DECODE_AUDIO=1
+CFLAGS     += $(ECFLAGS)
 CCFLAGS     = $(CPPFLAGS) $(CFLAGS)
 ASFLAGS    := $(CPPFLAGS) $(ASFLAGS)
 CXXFLAGS   += $(CPPFLAGS) $(CFLAGS)
-- 
1.7.10.2

