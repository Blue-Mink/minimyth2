From db5c40cfc14dcca456446fe059b01fe90211dd60 Mon Sep 17 00:00:00 2001
From: Jean-Yves Avenard <jyavenard@mythtv.org>
Date: Thu, 26 Jun 2014 21:10:43 +1000
Subject: [PATCH 06/16] Create pitch/strides that are a multiple of 32 bytes

Allows all lines in a frame to be 16-bytes aligned
---
 mythtv/libs/libmythtv/mythframe.h    |    4 ++--
 mythtv/libs/libmythtv/videobuffers.h |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/mythtv/libs/libmythtv/mythframe.h b/mythtv/libs/libmythtv/mythframe.h
index 3b4665f..741ac37 100644
--- a/mythtv/libs/libmythtv/mythframe.h
+++ b/mythtv/libs/libmythtv/mythframe.h
@@ -96,7 +96,7 @@ static inline void init(VideoFrame *vf, VideoFrameType _codec,
                         const int *p = 0,
                         const int *o = 0,
                         float _aspect = -1.0f, double _rate = -1.0f,
-                        int _aligned = 0) MUNUSED;
+                        int _aligned = 64) MUNUSED;
 static inline void clear(VideoFrame *vf);
 static inline bool compatible(const VideoFrame *a,
                               const VideoFrame *b) MUNUSED;
@@ -286,7 +286,7 @@ static inline int bitsperpixel(VideoFrameType type)
 }
 
 static inline uint buffersize(VideoFrameType type, int width, int height,
-                              int _aligned = 16)
+                              int _aligned = 64)
 {
     int  type_bpp = bitsperpixel(type);
     uint bpp = type_bpp / 4; /* bits per pixel div common factor */
diff --git a/mythtv/libs/libmythtv/videobuffers.h b/mythtv/libs/libmythtv/videobuffers.h
index b1f93c1..14fed78 100644
--- a/mythtv/libs/libmythtv/videobuffers.h
+++ b/mythtv/libs/libmythtv/videobuffers.h
@@ -47,7 +47,7 @@ class YUVInfo
 {
   public:
     YUVInfo(uint w, uint h, uint size, const int *p, const int *o,
-            int aligned = 0);
+            int aligned = 64);
 
   public:
     uint width;
-- 
1.7.10.2

