From 343cacb606f96a76392fbcb0a71c85e44f2585a8 Mon Sep 17 00:00:00 2001
From: Jean-Yves Avenard <jyavenard@mythtv.org>
Date: Thu, 29 May 2014 14:00:21 +1000
Subject: [PATCH 02/28] Fix memory leak

introduced in 8e130d9b06ce8300c46dd80e014f7ae9829733ac
---
 mythtv/external/FFmpeg/libavformat/mpegts-mythtv.c |    1 -
 1 file changed, 1 deletion(-)

diff --git a/mythtv/external/FFmpeg/libavformat/mpegts-mythtv.c b/mythtv/external/FFmpeg/libavformat/mpegts-mythtv.c
index 290d738..181254a 100644
--- a/mythtv/external/FFmpeg/libavformat/mpegts-mythtv.c
+++ b/mythtv/external/FFmpeg/libavformat/mpegts-mythtv.c
@@ -2031,7 +2031,6 @@ static AVStream *new_section_av_stream(SectionContext *sect, enum AVMediaType ty
 {
     FF_ALLOCZ_OR_GOTO(NULL, sect->st, sizeof(AVStream), fail);
 
-    sect->st->codec = avcodec_alloc_context();
     sect->st = av_new_stream(sect->stream, sect->pid);
 
     av_set_pts_info(sect->st, 33, 1, 90000);
-- 
1.7.10.2

