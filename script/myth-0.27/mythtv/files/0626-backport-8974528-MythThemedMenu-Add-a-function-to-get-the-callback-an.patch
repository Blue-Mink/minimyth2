From 8974528359d53dfd250b9a63de0d244031c04c60 Mon Sep 17 00:00:00 2001
From: Paul Harrison <pharrison@mythtv.org>
Date: Tue, 8 Jul 2014 18:33:25 +0100
Subject: [PATCH] MythThemedMenu: Add a function to get the callback and data

Note: updates be ABI version
---
 mythtv/libs/libmythui/myththemedmenu.cpp |    8 ++++++++
 mythtv/libs/libmythui/myththemedmenu.h   |    1 +
 2 files changed, 9 insertions(+)

diff --git a/mythtv/libs/libmythui/myththemedmenu.cpp b/mythtv/libs/libmythui/myththemedmenu.cpp
index b60d7be..ce1939a 100644
--- a/mythtv/libs/libmythui/myththemedmenu.cpp
+++ b/mythtv/libs/libmythui/myththemedmenu.cpp
@@ -154,6 +154,14 @@ bool MythThemedMenu::foundTheme(void)
     return m_foundtheme;
 }
 
+/// \brief Get the themed menus callback function and data for that function
+void MythThemedMenu::getCallback(void (**lcallback)(void *, QString &),
+                                 void **data)
+{
+    *lcallback = m_state->m_callback;
+    *data = m_state->m_callbackdata;
+}
+
 /// \brief Set the themed menus callback function and data for that function
 void MythThemedMenu::setCallback(void (*lcallback)(void *, QString &),
                                  void *data)
diff --git a/mythtv/libs/libmythui/myththemedmenu.h b/mythtv/libs/libmythui/myththemedmenu.h
index 5ecf6c7..e85b37a 100644
--- a/mythtv/libs/libmythui/myththemedmenu.h
+++ b/mythtv/libs/libmythui/myththemedmenu.h
@@ -71,6 +71,7 @@ class MUI_PUBLIC MythThemedMenu : public MythThemedMenuState
 
     bool foundTheme(void);
 
+    void getCallback(void (**lcallback)(void *, QString &), void **data);
     void setCallback(void (*lcallback)(void *, QString &), void *data);
     void setKillable(void);
 
-- 
1.7.10.2

