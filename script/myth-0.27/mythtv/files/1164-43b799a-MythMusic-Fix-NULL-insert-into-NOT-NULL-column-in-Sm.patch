From 43b799a5fc57214102d586a01fc755e541e29ccd Mon Sep 17 00:00:00 2001
From: Stuart Morgan <smorgan@mythtv.org>
Date: Sun, 7 Sep 2014 12:37:11 +0100
Subject: [PATCH 3/7] MythMusic: Fix NULL insert into NOT NULL column in
 SmartPlaylist editor.

---
 mythplugins/mythmusic/mythmusic/smartplaylist.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/mythplugins/mythmusic/mythmusic/smartplaylist.cpp b/mythplugins/mythmusic/mythmusic/smartplaylist.cpp
index c54f9b5..db99b74 100644
--- a/mythplugins/mythmusic/mythmusic/smartplaylist.cpp
+++ b/mythplugins/mythmusic/mythmusic/smartplaylist.cpp
@@ -332,7 +332,7 @@ bool SmartPLCriteriaRow::saveToDatabase(int smartPlaylistID)
     query.bindValue(":FIELD", Field);
     query.bindValue(":OPERATOR", Operator);
     query.bindValue(":VALUE1", Value1);
-    query.bindValue(":VALUE2", Value2);
+    query.bindValue(":VALUE2", Value2.isNull() ? "" : Value2);
 
     if (!query.exec())
     {
-- 
1.7.10.2

