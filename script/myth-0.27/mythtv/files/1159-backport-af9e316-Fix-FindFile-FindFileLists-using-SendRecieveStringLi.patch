From af9e316cdd31d09ac451a603918c83520d0a0596 Mon Sep 17 00:00:00 2001
From: Stuart Morgan <smorgan@mythtv.org>
Date: Thu, 4 Sep 2014 16:55:48 +0100
Subject: [PATCH 09/11] Fix FindFile/FindFileLists using
 SendRecieveStringList() when accessed on Master
 Backend

---
 mythtv/libs/libmythbase/remotefile.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/mythtv/libs/libmythbase/remotefile.cpp b/mythtv/libs/libmythbase/remotefile.cpp
index fec7e12..d76ca81 100644
--- a/mythtv/libs/libmythbase/remotefile.cpp
+++ b/mythtv/libs/libmythbase/remotefile.cpp
@@ -1214,7 +1214,7 @@ QStringList RemoteFile::FindFileList(const QString& filename, const QString& hos
     }
 
     // if we didn't find any files ask the master BE to find it
-    if (strList.isEmpty())
+    if (strList.isEmpty() && !gCoreContext->IsMasterBackend())
     {
         strList << "QUERY_FINDFILE" << hostName << storageGroup << filename
                 << (useRegex ? "1" : "0")
-- 
1.7.10.2

