From b4dfae9eb6a83503954ab35d16eb224600ea4d42 Mon Sep 17 00:00:00 2001
From: Paul Harrison <pharrison@mythtv.org>
Date: Sun, 27 Jul 2014 19:26:24 +0100
Subject: [PATCH 26/30] MythMusic: fix playback of tracks with an '#' in the
 filename

---
 mythplugins/mythmusic/mythmusic/decoderhandler.cpp |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

diff --git a/mythplugins/mythmusic/mythmusic/decoderhandler.cpp b/mythplugins/mythmusic/mythmusic/decoderhandler.cpp
index 35032be..612725b 100644
--- a/mythplugins/mythmusic/mythmusic/decoderhandler.cpp
+++ b/mythplugins/mythmusic/mythmusic/decoderhandler.cpp
@@ -160,7 +160,13 @@ void DecoderIOFactorySG::start(void)
     LOG(VB_PLAYBACK, LOG_INFO,
         QString("DecoderIOFactorySG: Opening Myth URL %1").arg(url));
     m_input = new MusicSGIODevice(url);
-    doConnectDecoder(m_handler->getUrl().path());
+
+    QString path = m_handler->getUrl().path();
+
+    if (m_handler->getUrl().hasFragment())
+        path += '#' + m_handler->getUrl().fragment();
+
+    doConnectDecoder(path);
 }
 
 /**********************************************************************/
-- 
1.7.10.2

