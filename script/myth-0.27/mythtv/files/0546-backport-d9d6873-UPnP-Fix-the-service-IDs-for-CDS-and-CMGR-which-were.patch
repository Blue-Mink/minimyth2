From d9d6873f6e2c77a3bcbc6da65c204c37810bfdc6 Mon Sep 17 00:00:00 2001
From: Stuart Morgan <smorgan@mythtv.org>
Date: Tue, 15 Jul 2014 15:26:10 +0100
Subject: [PATCH 4/6] UPnP: Fix the service IDs for CDS and CMGR which were
 both incorrect.

---
 mythtv/libs/libmythupnp/upnpcds.h  |    2 +-
 mythtv/libs/libmythupnp/upnpcmgr.h |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/mythtv/libs/libmythupnp/upnpcds.h b/mythtv/libs/libmythupnp/upnpcds.h
index f2b5fcc..bfbb2d6 100644
--- a/mythtv/libs/libmythupnp/upnpcds.h
+++ b/mythtv/libs/libmythupnp/upnpcds.h
@@ -267,7 +267,7 @@ class UPNP_PUBLIC UPnpCDS : public Eventing
         // Implement UPnpServiceImpl methods that we can
 
         virtual QString GetServiceType      () { return "urn:schemas-upnp-org:service:ContentDirectory:1"; }
-        virtual QString GetServiceId        () { return "urn:upnp-org:serviceId:CDS_1-0"; }
+        virtual QString GetServiceId        () { return "urn:upnp-org:serviceId:ContentDirectory"; }
         virtual QString GetServiceControlURL() { return m_sControlUrl.mid( 1 ); }
         virtual QString GetServiceDescURL   () { return m_sControlUrl.mid( 1 ) + "/GetServDesc"; }
 
diff --git a/mythtv/libs/libmythupnp/upnpcmgr.h b/mythtv/libs/libmythupnp/upnpcmgr.h
index d7077b2..4bf5a66 100644
--- a/mythtv/libs/libmythupnp/upnpcmgr.h
+++ b/mythtv/libs/libmythupnp/upnpcmgr.h
@@ -64,7 +64,7 @@ class UPNP_PUBLIC UPnpCMGR : public Eventing
         // Implement UPnpServiceImpl methods that we can
 
         virtual QString GetServiceType      () { return "urn:schemas-upnp-org:service:ConnectionManager:1"; }
-        virtual QString GetServiceId        () { return "urn:upnp-org:serviceId:CMGR_1-0"; }
+        virtual QString GetServiceId        () { return "urn:upnp-org:serviceId:ConnectionManager"; }
         virtual QString GetServiceControlURL() { return m_sControlUrl.mid( 1 ); }
         virtual QString GetServiceDescURL   () { return m_sControlUrl.mid( 1 ) + "/GetServDesc"; }
 
-- 
1.7.10.2

