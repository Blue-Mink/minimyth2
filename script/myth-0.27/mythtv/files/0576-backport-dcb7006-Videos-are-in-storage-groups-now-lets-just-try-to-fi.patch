From dcb7006e106be462733b4fd07d9a6a55408c7542 Mon Sep 17 00:00:00 2001
From: Stuart Auchterlonie <stuarta@squashedfrog.net>
Date: Fri, 25 Jul 2014 10:46:44 +0100
Subject: [PATCH 01/30] Videos are in storage groups now, lets just try to
 find the file in a SG

---
 mythtv/libs/libmythmetadata/metadatafactory.cpp |    9 ++-------
 1 file changed, 2 insertions(+), 7 deletions(-)

diff --git a/mythtv/libs/libmythmetadata/metadatafactory.cpp b/mythtv/libs/libmythmetadata/metadatafactory.cpp
index a6a9770..c28708d 100644
--- a/mythtv/libs/libmythmetadata/metadatafactory.cpp
+++ b/mythtv/libs/libmythmetadata/metadatafactory.cpp
@@ -146,13 +146,8 @@ void MetadataFactory::Lookup(VideoMetadata *metadata, bool automatic,
     lookup->SetSeason(metadata->GetSeason());
     lookup->SetEpisode(metadata->GetEpisode());
     lookup->SetInetref(metadata->GetInetRef());
-    QString fntmp;
-    if (metadata->GetHost().isEmpty())
-        fntmp = metadata->GetFilename();
-    else
-        fntmp = generate_file_url("Videos", metadata->GetHost(),
-                                      metadata->GetFilename());
-    lookup->SetFilename(fntmp);
+    lookup->SetFilename(generate_file_url("Videos", metadata->GetHost(),
+                                      metadata->GetFilename()));
 
     if (m_lookupthread->isRunning())
         m_lookupthread->prependLookup(lookup);
-- 
1.7.10.2

