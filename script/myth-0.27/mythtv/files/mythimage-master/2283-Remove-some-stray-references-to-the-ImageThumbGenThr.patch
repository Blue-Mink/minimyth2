From ae1a0373e4fe6b4be8ae612b8b061cccf62c6f56 Mon Sep 17 00:00:00 2001
From: Stuart Morgan <smorgan@mythtv.org>
Date: Sun, 3 Nov 2013 10:34:37 +0000
Subject: [PATCH 283/760] Remove some stray references to the
 ImageThumbGenThread from the frontend which caused
 a segfault.

---
 mythtv/programs/mythfrontend/galleryviewhelper.h |    3 +--
 mythtv/programs/mythfrontend/gallerywidget.cpp   |    7 -------
 2 files changed, 1 insertion(+), 9 deletions(-)

diff --git a/mythtv/programs/mythfrontend/galleryviewhelper.h b/mythtv/programs/mythfrontend/galleryviewhelper.h
index 4956176..7f5e6f9 100644
--- a/mythtv/programs/mythfrontend/galleryviewhelper.h
+++ b/mythtv/programs/mythfrontend/galleryviewhelper.h
@@ -5,11 +5,11 @@
 #include <QString>
 #include <QList>
 #include <QMap>
+#include <QThread>
 
 // MythTV headers
 #include "mythgenerictree.h"
 #include "imagemetadata.h"
-#include "imagethumbgenthread.h"
 
 #include "galleryfilehelper.h"
 #include "gallerydatabasehelper.h"
@@ -24,7 +24,6 @@ public:
     ~GalleryViewHelper();
 
     MythGenericTree         *m_currentNode;
-    ImageThumbGenThread   *m_thumbGenThread;
 
     QStringList m_sgDirList;
     QString     m_sgName;
diff --git a/mythtv/programs/mythfrontend/gallerywidget.cpp b/mythtv/programs/mythfrontend/gallerywidget.cpp
index a2efc41..695e313 100644
--- a/mythtv/programs/mythfrontend/gallerywidget.cpp
+++ b/mythtv/programs/mythfrontend/gallerywidget.cpp
@@ -9,9 +9,6 @@
 #include "mythcontext.h"
 #include "mythmainwindow.h"
 
-#include "imagethumbgenthread.h"
-
-
 ImageLoadingThread::ImageLoadingThread() :
     m_image(NULL),
     m_imageData(NULL),
@@ -97,8 +94,6 @@ GalleryWidget::GalleryWidget(MythScreenStack *parent,
 
     m_infoVisible = false;
     m_index = 0;
-
-    m_gvh->m_thumbGenThread->Pause();
 }
 
 
@@ -132,8 +127,6 @@ GalleryWidget::~GalleryWidget()
     // Set the selected image in the gallery view to the saved one
     // so that the initially selected image is the correct one again.
     m_gvh->m_currentNode->setSelectedChild(m_selectedNode);
-
-    m_gvh->m_thumbGenThread->Resume();
 }
 
 
-- 
1.7.10.2

