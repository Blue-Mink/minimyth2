From f1cfac46f428a72e6276751ed21e8c245777f352 Mon Sep 17 00:00:00 2001
From: Stuart Morgan <smorgan@mythtv.org>
Date: Tue, 15 Jul 2014 13:16:17 +0100
Subject: [PATCH 1/6] UPnP: Set sane defaults for the required properties of
 the Storage* containers

---
 mythtv/libs/libmythupnp/upnpcdsobjects.cpp |   20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

diff --git a/mythtv/libs/libmythupnp/upnpcdsobjects.cpp b/mythtv/libs/libmythupnp/upnpcdsobjects.cpp
index 6de106c..7fb20a3 100644
--- a/mythtv/libs/libmythupnp/upnpcdsobjects.cpp
+++ b/mythtv/libs/libmythupnp/upnpcdsobjects.cpp
@@ -867,11 +867,11 @@ CDSObject *CDSObject::CreateStorageSystem( QString sId, QString sTitle, QString
 
     CreateContainer( sId, sTitle, sParentId, pObject );
 
-    pObject->AddProperty( new Property( "storageTotal"       , "upnp", true )); 
-    pObject->AddProperty( new Property( "storageUsed"        , "upnp", true )); 
-    pObject->AddProperty( new Property( "storageFree"        , "upnp", true )); 
-    pObject->AddProperty( new Property( "storageMaxPartition", "upnp", true )); 
-    pObject->AddProperty( new Property( "storageMedium"      , "upnp", true )); 
+    pObject->AddProperty( new Property( "storageTotal"       , "upnp", true, "-1"  ));
+    pObject->AddProperty( new Property( "storageUsed"        , "upnp", true, "-1"  ));
+    pObject->AddProperty( new Property( "storageFree"        , "upnp", true, "-1"  ));
+    pObject->AddProperty( new Property( "storageMaxPartition", "upnp", true, "-1"  ));
+    pObject->AddProperty( new Property( "storageMedium"      , "upnp", true, "HDD" ));
 
     return( pObject );
 }
@@ -888,10 +888,10 @@ CDSObject *CDSObject::CreateStorageVolume( QString sId, QString sTitle, QString
 
     CreateContainer( sId, sTitle, sParentId, pObject );
 
-    pObject->AddProperty( new Property( "storageTotal" , "upnp", true ));
-    pObject->AddProperty( new Property( "storageUsed"  , "upnp", true ));
-    pObject->AddProperty( new Property( "storageFree"  , "upnp", true ));        
-    pObject->AddProperty( new Property( "storageMedium", "upnp", true ));        
+    pObject->AddProperty( new Property( "storageTotal" , "upnp", true, "-1"  ));
+    pObject->AddProperty( new Property( "storageUsed"  , "upnp", true, "-1"  ));
+    pObject->AddProperty( new Property( "storageFree"  , "upnp", true, "-1"  ));
+    pObject->AddProperty( new Property( "storageMedium", "upnp", true, "HDD" ));
 
     return( pObject );
 }
@@ -908,7 +908,7 @@ CDSObject *CDSObject::CreateStorageFolder( QString sId, QString sTitle, QString
 
     CreateContainer( sId, sTitle, sParentId, pObject );
 
-    pObject->AddProperty( new Property( "storageUsed", "upnp", true ));
+    pObject->AddProperty( new Property( "storageUsed", "upnp", true, "-1" ));
 
     return( pObject );
 }
-- 
1.7.10.2

