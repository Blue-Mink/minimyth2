From ac5ddda56fca8b2dffc4cefee6cde31c73258cea Mon Sep 17 00:00:00 2001
From: Denis Kenzior <denkenz@gmail.com>
Date: Thu, 20 Aug 2020 11:07:51 -0500
Subject: treewide: Add missing netdev module dependencies

---
 src/adhoc.c   | 1 +
 src/ap.c      | 1 +
 src/device.c  | 1 +
 src/station.c | 1 +
 src/wsc.c     | 1 +
 5 files changed, 5 insertions(+)

diff --git a/src/adhoc.c b/src/adhoc.c
index 8a995481..ceec2dea 100644
--- a/src/adhoc.c
+++ b/src/adhoc.c
@@ -726,3 +726,4 @@ static void adhoc_exit(void)
 }
 
 IWD_MODULE(adhoc, adhoc_init, adhoc_exit)
+IWD_MODULE_DEPENDS(adhoc, netdev);
diff --git a/src/ap.c b/src/ap.c
index eca49c09..51ee23a8 100644
--- a/src/ap.c
+++ b/src/ap.c
@@ -1913,3 +1913,4 @@ static void ap_exit(void)
 }
 
 IWD_MODULE(ap, ap_init, ap_exit)
+IWD_MODULE_DEPENDS(ap, netdev);
diff --git a/src/device.c b/src/device.c
index 171a11b6..86eea6e9 100644
--- a/src/device.c
+++ b/src/device.c
@@ -435,3 +435,4 @@ static void device_exit(void)
 }
 
 IWD_MODULE(device, device_init, device_exit)
+IWD_MODULE_DEPENDS(device, netdev);
diff --git a/src/station.c b/src/station.c
index e53952a7..a8d8ad08 100644
--- a/src/station.c
+++ b/src/station.c
@@ -3381,4 +3381,5 @@ static void station_exit(void)
 }
 
 IWD_MODULE(station, station_init, station_exit)
+IWD_MODULE_DEPENDS(station, netdev);
 IWD_MODULE_DEPENDS(station, netconfig)
diff --git a/src/wsc.c b/src/wsc.c
index 2ac6de9c..fa91f459 100644
--- a/src/wsc.c
+++ b/src/wsc.c
@@ -1302,3 +1302,4 @@ static void wsc_exit(void)
 }
 
 IWD_MODULE(wsc, wsc_init, wsc_exit)
+IWD_MODULE_DEPENDS(wsc, netdev);
-- 
cgit 1.2.3-1.el7

